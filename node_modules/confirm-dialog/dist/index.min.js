"use strict";var event=require("events"),ontap=require("ontap"),classes=require("classes"),domify=require("domify"),detect=require("prop-detect"),template=require("./footer.html"),transform=detect.transform,transition=detect.transition,transitionEnd=detect.transitionend,root="BackCompat"==document.compatMode?document.body:document.documentElement;function Confirm(e,t){t=t||{};var n=document.body,o=document.createElement("div");classes(o).add("confirm-overlay");var i=document.documentElement.getBoundingClientRect(),r=root.clientWidth,a=root.clientHeight;assign(o.style,{position:"absolute",top:0,left:0,width:r+"px",height:Math.max(i.height,a)+"px",zIndex:998,backgroundColor:"rgba(0,0,0,0)"}),n.appendChild(o);var s=a/2-50,d=r/2-100,l=document.createElement("div");if(assign(l.style,{position:"fixed",top:s+"px",padding:"10px",zIndex:999,border:"1px solid #000",textAlign:"center",width:"200px",left:d+"px",opacity:0,backgroundColor:"#fff"}),l.style[transform]="scale(0.6)",o.style[transition]="all 500ms linear",l.style[transition]="all 250ms cubic-bezier(0.04, 0.76, 0.41, 0.99)",setTimeout(function(){l.style[transform]="scale(1)",l.style.opacity="1",o.style.backgroundColor="rgba(0,0,0,0.4)"},20),t.style&&assign(l.style,t.style),classes(l).add("confirm-active"),"string"==typeof e)l.innerHTML="<div>"+e+"</div>";else{if(1!==e.nodeType)throw new Error("typeof ["+e+"] not recognized");l.appendChild(e)}n.appendChild(l),template=template.replace(/\{\w+\}/g,function(e){return"{yes}"==e?t.yes||"Yes":"{no}"==e?t.no||"No":void 0});var c=domify(template);if(l.appendChild(c),t.alert){var m=c.querySelector(".no");m.parentNode.removeChild(m)}function p(){event.bind(l,transitionEnd,function e(){event.unbind(l,transitionEnd,e),l.parentNode&&n.removeChild(l)}),l.style.opacity=0,l.style[transform]="translateY(-100%)",n.removeChild(o)}return new Promise(function(n,o){ontap(c,function(e){var t=classes(e.target);t.has("yes")?(p(),n()):t.has("no")&&(p(),o())})})}function assign(t,n){return Object.keys(n).forEach(function(e){t[e]=n[e]}),t}module.exports=Confirm;
//# sourceMappingURL=index.min.js.map
